
# Apache Seata

Apache Seata는 현재 Apache 인큐베이션 중인 오픈 소스 분산 트랜잭션 솔루션으로,
마이크로서비스 아키텍처 하에서 고성능과 사용하기 쉬운 분산 트랜잭션 서비스를 제공합니다.

주요 구성 요소는 다음과 같습니다:

- **트랜잭션 코디네이터 (Transaction Coordinator, TC)**: 글로벌 및 브랜치 트랜잭션의 상태를 유지하고, 글로벌 커밋 또는 롤백을 수행합니다.
- **트랜잭션 매니저 (Transaction Manager, TM)**: 글로벌 트랜잭션의 범위를 정의합니다. 글로벌 트랜잭션을 시작하고, 글로벌 트랜잭션을 커밋하거나 롤백합니다.
- **리소스 매니저 (Resource Manager, RM)**: 브랜치 트랜잭션이 작업하는 리소스를 관리하고, 브랜치 트랜잭션을 등록하고 상태를 보고하기 위해 TC와 통신하며, 브랜치 트랜잭션의 커밋 또는 롤백을 수행합니다.

지원되는 트랜잭션 모델은 **AT, XA (2PC) 및 SAGA** 입니다.

(이론은 건너뛰고 싶다면, 바로 실용적인 솔루션으로 가세요!)

## XA(2PC)

XA는 1991년 X/Open(후에 The Open Group과 합병됨)에서 발표한 사양입니다.

### 1. Phase:1: 준비 (Commit Vote)

- **TC**(Seata Server)는 모든 참여하는 **RM(데이터베이스, 즉 데이터를 소유하는 마이크로 서비스)**에게 로컬 트랜잭션을 커밋할 준비가 되었는지 묻습니다.
- 각 **RM**은 자신의 작업을 수행하고, 'durability'를 보장하기 위해 트랜잭션 로그를 기록하며, 격리를 보장하기 위해 리소스를 잠급니다.
- **RM**이 준비가 되면 TC에게 "네!!" 메시지를 보냅니다. 만약 어떤 RM이 실패하거나 준비가 되지 않으면, TC에게 "아니요." 메시지를 보냅니다.

### 2. Phase:2: 커밋 또는 롤백
