# RAID (Redundant Array of Independent Disks)

여러 개의 물리적 디스크를 하나의 논리적 디스크처럼 사용하는 기술

```text
┌─────────────────────────────────────┐
│           RAID 도입 목적              │
├─────────────────────────────────────┤
│ 1. 성능 향상 (Performance)            │
│    └─ 데이터 분산 저장 (Striping)       │
│                                     │
│ 2. 신뢰성 향상 (Reliability)           │
│    └─ 데이터 중복 저장 (Mirroring)      │
│                                     │
│ 3. 가용성 향상 (Availability)          │
│    └─ 장애 복구 능력 (Fault Tolerance) │
│                                     │
│ 4. 용량 확장 (Capacity)               │
│    └─ 여러 디스크 통합                  │
└─────────────────────────────────────┘
```

## 출제 빈도

| **주제** | **핵심 내용** | **암기 포인트** | **출제 빈도** |
|------|----------|------------|----------|
| **RAID 0 특징** | 스트라이핑만 사용 | 성능 ↑, 신뢰성 X | ⭐⭐⭐ |
| **RAID 1 특징** | 미러링만 사용 | 신뢰성 ↑, 용량 50% | ⭐⭐⭐ |
| **RAID 5 특징** | 분산 패리티 사용 | 균형, 최소 3개 | ⭐⭐⭐ |
| **RAID 0 vs RAID 1** | 성능 vs 신뢰성 | 대조적 특성 | ⭐⭐⭐ |

## 계산 공식

- RAID 0 = 스트라이핑 (패리티 X), N * 디스크 용량
- RAID 1 = 미러링 (용량 50%), N / 2 * 디스크 용량
- RAID 5 = 분산 패리티 (최소 3개), (N-1) * 디스크 용량
- RAID 6 = 이중 패리티 (최소 4개), (N-2) * 디스크 용량
- RAID 10 = 미러링 후 스트라이핑, (N / 2) * (디스크 용량)

## 비교 포인트

- 성능: RAID 0 > 10 > 5 > 6 > 1
- 신뢰성: RAID 6 > 10 > 1 > 5 > 0
- 용량효율: RAID 0 > 5 > 6 > 1,10
- 비용: RAID 0 < 5 < 6 < 1 < 10

## RAID 기본 기술

| 기술 | 설명 | 효과 |
|------|------|------|
| Striping | 데이터를 여러 디스크에 분산 저장 | 성능 향상|
| Mirroring | 데이터를 여러 디스크에 중복 저장 | 신뢰성 향상 |
| Parity | 오류 검출 및 복구 정보 저장 | 가용성 향상 |

## RAID 레벨별 정리

### RAID 0 (Striping)

```text
┌─────────────────────────────┐
│   Data Block: A B C D E F   │
└─────────────────────────────┘
           ↓ 분산
┌──────────┐  ┌──────────┐
│ Disk 1   │  │ Disk 2   │
│ A  C  E  │  │ B  D  F  │
└──────────┘  └──────────┘
```

- 특징: 순수 스트라이핑, 패리티 없음
- 최소 디스크: 2개
- 용량: 100% 활용
- 장점: 최고 성능 ⚡⚡⚡
- 단점: 장애 복구 불가 ❌
- 용도: 임시 데이터, 캐시

### RAID 1 (Mirroring)

```text
┌─────────────────────────────┐
│   Data Block: A B C D E F   │
└─────────────────────────────┘
              ↓ 복제
┌─────────────┐  ┌─────────────┐
│ Disk 1      │  │ Disk 2      │
│ A B C D E F │  │ A B C D E F │
└─────────────┘  └─────────────┘
```

- 특징: 순수 미러링, 패리티 없음
- 최소 디스크: 2개
- 용량: 50% 활용
- 장점: 높은 신뢰성 ✅
- 단점: 용량 비효율 ❌
- 용도: 중요 데이터, 시스템 디스크

### RAID 3 (Byte-level Striping with Dedicated Parity)

```text
┌─────────────────────────────┐
│   Data Block: A B C D E F   │
└─────────────────────────────┘
           ↓ 분산
┌──────────┐  ┌──────────┐
│ Disk 1   │  │ Disk 2   │
│ A  C  E  │  │ B  D  F  │
└──────────┘  └──────────┘
           ↓ 패리티
┌──────────┐
│ Parity   │
│ P1 P2 P3 │
└──────────┘
```

- 특징: 바이트 수준 스트라이핑, 전용 패리티 디스크
- 최소 디스크: 3개
- 용량: (N-1) / N 활용
- 장점: 높은 성능 및 신뢰성 ⚡✅
- 단점: 패리티 디스크 병목 ❌
- 용도: 대용량 데이터, 미디어 서버

### RAID 5 (Block-level Striping with Distributed Parity)

```text
┌─────────────────────────────┐
│   Data Block: A B C D E F   │
└─────────────────────────────┘
           ↓ 분산
┌──────────┐  ┌──────────┐  ┌──────────┐
│ Disk 1   │  │ Disk 2   │  │ Disk  3  │
│ A  D  P1 │  │ B  E  P2 │  │ C  F  P3 │
└──────────┘  └──────────┘  └──────────┘
```

- 특징: 분산 패리티
- 최소 디스크: 3개
- 용량: (N-1) / N * 100% 활용
- 장점: 균형잡힌 성능/신뢰성
- 단점: Write 성능 저하
- 용도: 일반 서버, NAS

```text
Q. 1TB 디스크 5개로 RAID 5를 구성했을 때 
   사용 가능한 총 용량은?

계산: (5-1) × 1TB = 4TB
답: 4TB

Q. 데이터를 블록 단위로 분산 저장하며, 패리티 정보를 모든 디스크에 분산시켜 저장하는 방식"

답: RAID 5
```
  
### RAID 6 (Block-level Striping with Double Distributed Parity)

```text
┌─────────────────────────────┐
│   Data Block: A B C D E F   │
└─────────────────────────────┘
              ↓ 분산
┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐
│ Disk 1   │  │ Disk 2   │  │ Disk 3   │  │ Disk 4   │
│ A  D  P1 │  │ B  E  P2 │  │ C  F  P3 │  │ P4  P5   │
└──────────┘  └──────────┘  └──────────┘  └──────────┘
```

- 특징: 이중 분산 패리티
- 최소 디스크: 4개
- 장점: 2개 디스크 동시 장애 복구
- 단점: Write 성능 저하, 용량 효율 감소
- 용도: 고신뢰성 서버, 엔터프라이즈 스토리지

### RAID 10 (1+0, Mirrored Stripes)

```text
┌─────────────────────────────┐
│   Data Block: A B C D E F   │
└─────────────────────────────┘
              ↓ 분산 및 복제
┌─────────────┐  ┌─────────────┐
│ Disk 1      │  │ Disk 2      │
│ A B C D E F │  │ A B C D E F │
└─────────────┘  └─────────────┘
```

```text
Q. 500GB 디스크 4개로 RAID 10을 구성했을 때 
   사용 가능한 용량은?

계산: 4 × 500GB × 50% = 1TB
답: 1TB
```
